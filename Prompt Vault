프로젝트 명: Prompt Vault
설명
Prompt Vault는 사용자가 프롬프트를 효율적으로 생성, 관리 및 분류할 수 있도록 돕는 웹 애플리케이션입니다. AI 기반 초안 생성 및 카테고리 추천 기능을 통해 생산성을 높이는 것을 목표로 합니다. 모든 데이터는 브라우저의 IndexedDB에 안전하게 저장됩니다.

파일 구조 및 역할
index.html: 애플리케이션의 전체적인 UI 구조를 정의하는 메인 페이지입니다.

src/css/style.css: 애플리케이션의 디자인과 레이아웃을 담당하는 스타일시트입니다.

src/config.js: 앱의 제목, 테마, AI 시뮬레이션 설정 등 커스터마이징 가능한 값들을 모아둔 설정 파일입니다.

src/js/main.js: 애플리케이션의 시작점(Entry Point)입니다. DB 초기화, 데이터 로딩, 모듈 초기화 등 앱의 전반적인 실행 흐름을 관리합니다.

src/js/db.js: IndexedDB와의 상호작용을 추상화하여 데이터 CRUD(생성, 읽기, 수정, 삭제)를 쉽게 처리할 수 있도록 돕는 모듈입니다.

src/js/store.js: 애플리케이션의 모든 상태(State)를 중앙에서 관리하는 단일 소스 저장소(Single Source of Truth)입니다. 상태 변경에 따라 UI가 반응적으로 업데이트됩니다.

src/js/ui.js: DOM 조작, 렌더링, 사용자 인터페이스 업데이트를 전담하는 모듈입니다. store의 상태 변화를 구독하여 화면을 다시 그립니다.

src/js/commandPalette.js: Ctrl+K 단축키로 접근 가능한 커맨드 팔레트의 기능과 UI를 관리합니다.

src/js/services.js: 외부 API 연동이나 복잡한 비즈니스 로직을 처리합니다. 현재는 AI 기능 시뮬레이션을 담당합니다.

src/js/utils.js: HTML 이스케이프 처리 등 프로젝트 전반에서 사용되는 유용한 헬퍼 함수들을 모아둔 모듈입니다.

변경 기록
2025-09-30 (v2)
수정 파일: src/js/db.js, src/js/ui.js, src/js/main.js

변경 내용:

DB 초기화 안정화 (db.js): IndexedDB 최초 생성 시 기본 카테고리를 추가하는 로직을 더 안정적인 방식으로 변경하여, 앱 시작 오류 가능성을 제거했습니다. 이것이 클릭 불가 문제의 근본 원인이었습니다.

상태 관리 리팩토링 (ui.js): AI 초안 로딩 상태를 UI 모듈 내부에서 자체적으로 관리하던 방식에서 벗어나, 중앙 저장소(store)의 isLoading 상태를 직접 참조하도록 통일했습니다. isDraftLoading, showAIDraftLoading, hideAIDraftLoading 관련 코드를 제거하여 로직을 단순화했습니다.

중복 코드 제거 (main.js): ui.js의 리팩토링에 따라 불필요해진 store 구독 코드를 main.js에서 제거했습니다.

2025-09-30 (v1)
수정 파일: src/js/ui.js

변경 내용:

이벤트 핸들러 리팩토링: 렌더링 함수(renderSidebar, renderListView 등) 내부에서 반복적으로 추가되던 이벤트 리스너를 setupEventListeners 메서드로 통합했습니다.

이벤트 위임 적용: 동적으로 생성되는 목록(카테고리, 프롬프트) 및 버튼들의 클릭 이벤트를 부모 요소에서 한 번에 처리하도록 이벤트 위임 패턴을 적용했습니다.

버그 수정: 위 변경을 통해, UI가 업데이트될 때마다 클릭 이벤트가 중첩되어 버튼이 작동하지 않던 문제를 해결했습니다.